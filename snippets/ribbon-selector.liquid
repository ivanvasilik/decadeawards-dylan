{% comment %}
  Ribbon Selector Dropdown - Decade Awards
  Renders a dropdown for selecting ribbon options.

  Usage: {% render 'ribbon-selector', product: product %}

  Metafields:
  - ribbons.options: list of ribbon codes
  - ribbons.label: dropdown label text
{% endcomment %}

{%- liquid
  assign ribbon_options = product.metafields.ribbons.options.value
  assign ribbon_label = product.metafields.ribbons.label.value | default: 'Select Ribbon'
-%}

{%- if ribbon_options != blank and ribbon_options.size > 0 -%}
  <div class="product-customizer__ribbon-selector">
    <label class="product-customizer__label" for="ribbon-select">
      {{ ribbon_label }}
      <span class="product-customizer__required">*</span>
    </label>

    <div class="product-customizer__select-wrapper">
      <select
        id="ribbon-select"
        name="properties[{{ ribbon_label }}]"
        class="product-customizer__select"
        required
      >
        <option value="">Choose a ribbon...</option>
        {%- for ribbon in ribbon_options -%}
          <option value="{{ ribbon }}">{{ ribbon }}</option>
        {%- endfor -%}
      </select>
      <span class="product-customizer__select-icon">
        <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
    </div>

    {%- comment -%} Ribbon preview section - optional enhancement {%- endcomment -%}
    <div class="product-customizer__ribbon-preview" id="ribbon-preview" hidden>
      <p class="product-customizer__preview-label">Selected: <strong id="ribbon-preview-text"></strong></p>
    </div>
  </div>
{%- endif -%}
